plugins {
    id 'java'
    id 'com.gradleup.shadow' version '9.3.0'
}

group = 'com.vitor'
version = '1.1.0'

repositories {
    mavenCentral()
    maven { url = 'https://repo.papermc.io/repository/maven-public/' }
    maven { url = 'https://repo.extendedclip.com/content/repositories/placeholderapi/' }
}

dependencies {
    compileOnly 'io.papermc.paper:paper-api:1.21-R0.1-SNAPSHOT'
    compileOnly 'me.clip:placeholderapi:2.11.6'
    implementation 'com.zaxxer:HikariCP:5.1.0'
    implementation 'org.mariadb.jdbc:mariadb-java-client:3.3.3'
    implementation 'org.slf4j:slf4j-simple:2.0.12'
}

java {
    toolchain.languageVersion.set(JavaLanguageVersion.of(21))
}

shadowJar {
    // relocate 'com.zaxxer.hikari', 'com.vitor.libs.hikari'
    // relocate 'org.mariadb.jdbc', 'com.vitor.libs.mariadb'
    // relocate 'org.slf4j', 'com.vitor.libs.slf4j'
    archiveClassifier.set('')
}

tasks.build {
    dependsOn shadowJar
}